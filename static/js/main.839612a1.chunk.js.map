{"version":3,"sources":["Todo.js","NewTodo.js","index.js","App.js"],"names":["Todo","_ref","text","completed","updateList","todos","todoIndex","id","_useState","useState","_useState2","Object","slicedToArray","isCompleted","setCompleted","apiKey","react_default","a","createElement","className","concat","onClick","xhttpToggle","XMLHttpRequest","data","onreadystatechange","this","readyState","status","console","log","responseText","open","setRequestHeader","send","JSON","stringify","aria-hidden","event","xhttp","splice","NewTodo","onSubmit","title","setTitle","e","preventDefault","todo","parse","push","htmlFor","hidden","type","name","value","placeholder","onChange","target","ReactDOM","render","setTodos","_useState3","_useState4","sortBy","setSortBy","useEffect","todoResponse","sortParameter","newestFirst","oldestFirst","az","za","completedFirst","incompleteFirst","sorted","toConsumableArray","sort","b","toLowerCase","localeCompare","reverse","react","map","todoNumber","Todo_Todo","key","NewTodo_NewTodo","document","getElementById"],"mappings":"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","file":"static/js/main.839612a1.chunk.js","sourcesContent":["import React, { useState } from 'react';\nimport './Todo.css';\n\n\n\nexport default function Todo({text, completed, updateList, todos, todoIndex, id}) {\n    const [isCompleted, setCompleted] = useState(completed)\n    const apiKey = \"c4113f-42d6e9-f6658d-929da1-0a9677\"\n\n\n    const toggleComplete = () => {\n      //TODO: update api\n        const xhttpToggle = new XMLHttpRequest()\n        const data = {\n          completed: !isCompleted\n        }\n        xhttpToggle.onreadystatechange = function() {\n          if(this.readyState === 4 && this.status === 200){\n              //success\n              //update ui\n              setCompleted(isCompleted => !isCompleted)\n          }else if (this.readyState === 4){\n              console.log(this.responseText)\n          }\n      }\n\n      xhttpToggle.open(\"PUT\", \"https://cse204.work/todos/\" + id, true)\n      xhttpToggle.setRequestHeader(\"Content-type\", \"application/json\");\n      xhttpToggle.setRequestHeader(\"x-api-key\", apiKey)\n      xhttpToggle.send(JSON.stringify(data))\n    }\n\n    const deleteTodo = (event) => {\n      // const dataTag = event.target.parentElement\n      // const todoID = dataTag.value\n      const xhttp = new XMLHttpRequest()\n      // const todoElement = dataTag.parentElement\n  \n      xhttp.onreadystatechange = function(){\n          if(this.readyState === 4 && this.status === 200){ //successfully deleted todo\n              //remove element from ui\n              todos.splice(todoIndex, 1)\n              updateList([])\n              updateList(todos)\n          }else if(this.readyState === 4){\n              //error deleting\n              console.log(this.responseText)\n          }\n      }\n      xhttp.open(\"DELETE\", `https://cse204.work/todos/${id}`, true)\n      xhttp.setRequestHeader(\"x-api-key\", apiKey)\n      xhttp.send()\n  }\n\n    return (\n    <li className=\"todo-list-element\">\n      <i className={`far ${isCompleted ? \"fa-check-circle\" : \"fa-circle\"}`} onClick={toggleComplete} aria-hidden=\"true\"></i>\n      <h3 className={`todo-title text ${isCompleted ? \"complete\" : \"incomplete\"}`}>{text}</h3>\n      <i className=\"far fa-trash-alt delete-button\" aria-hidden=\"true\" onClick={deleteTodo}></i>\n    </li>\n    )\n}\n\n\n// export default Todo;\n","import React, { useState } from 'react'\nimport './NewTodo.css';\n\nexport default function NewTodo({todos, onSubmit}) {\n    const[title, setTitle] = useState(\"\")\n\n    const handleTitleInput = (event) => {\n        setTitle(event.target.value)\n    }\n    const handleSubmit = (e) =>{\n        e.preventDefault()\n        // onSubmit([])\n        // make api request\n        const apiKey = \"c4113f-42d6e9-f6658d-929da1-0a9677\"\n        const data = {\n            text: title\n        }\n        const xhttp = new XMLHttpRequest();\n\n        xhttp.onreadystatechange = function() {\n            if (this.readyState === 4 && this.status === 200) {\n                //successfully uploaded todo\n                const todo = JSON.parse(this.responseText);\n                // add to ui\n                setTitle(\"\")\n                todos.push(todo)\n                //I dont know why this fixed it but it did\n                onSubmit([])\n                onSubmit(todos)\n            } else if (this.readyState === 4) {\n                //error from server\n                console.log(this.responseText);\n            }\n        };\n        xhttp.open(\"POST\", \"https://cse204.work/todos\", true);\n        xhttp.setRequestHeader(\"Content-type\", \"application/json\");\n        xhttp.setRequestHeader(\"x-api-key\", apiKey);\n        xhttp.send(JSON.stringify(data));\n    }\n\n    \n\n    return (\n        <div id=\"new-todo-wrapper\">\n            <form id=\"new-todo-form\" className=\"text\" onSubmit={handleSubmit}>\n                <label htmlFor=\"title-input\" hidden></label>\n                <input type=\"text\" id=\"title-input\" name=\"title-input\" value={title} placeholder=\"Title\" onChange={handleTitleInput} />\n                <label htmlFor=\"submit-button\" hidden></label>\n                <input type=\"submit\" id=\"submit-button\" name=\"submit-button\" value=\"Submit\" />\n            </form>\n        </div>\n    )\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","import React, { Fragment, useEffect, useState } from 'react';\nimport './App.css';\nimport Todo from './Todo.js';\nimport NewTodo from './NewTodo';\n\n\n\nexport default function App() {\n\n  const [todos, setTodos] = useState([])\n  const [sortBy, setSortBy] = useState(\"created\")\n\n  console.log(todos)\n\n  useEffect(() => {\n    //api call\n    const apiKey = \"c4113f-42d6e9-f6658d-929da1-0a9677\"\n    const xhttp = new XMLHttpRequest()\n    const url = \"https://cse204.work/todos\"\n    xhttp.onreadystatechange = function(){\n        if(this.readyState === 4 && this.status === 200){\n            //get todos from the response\n            let todoResponse = JSON.parse(this.responseText)\n            //add todos to the page\n            setTodos(todoResponse)\n        }\n    }\n    xhttp.open(\"Get\", url, true)\n    xhttp.setRequestHeader(\"x-api-key\", apiKey)\n    xhttp.send()\n  }, [])\n\n  //TODO: try to call this on new elements/edited elements\n  useEffect(() => {\n    console.log(sortBy)\n    const parameters = {\n      newestFirst: \"created_at\",\n      oldestFirst: \"created_at\",\n      az: \"text\",\n      za: \"text\",\n      completedFirst: \"completed\",\n      incompleteFirst: \"completed\",\n    }\n\n    const sortParameter = parameters[sortBy]\n    console.log(todos)\n    // TODO: try calling this same switch in the settodos hook\n    switch(sortBy){\n      case \"newestFirst\":{\n        console.log(\"newest\")\n        const sorted = [...todos].sort((a, b) => {\n          return a[sortParameter].toLowerCase().localeCompare(b[sortParameter].toLowerCase())\n        }).reverse\n        // console.log(sorted)\n        setTodos(sorted)\n        break;\n      }\n      case \"oldestFirst\":{\n        console.log(\"oldest\")\n        const sorted = [...todos].sort((a, b) => {\n          return a[sortParameter].toLowerCase().localeCompare(b[sortParameter].toLowerCase())\n        })\n        setTodos(sorted)\n        break;\n      }\n      case \"az\":{\n        console.log(\"az\")\n        const sorted = [...todos].sort((a, b) => {\n          return a[sortParameter].toLowerCase().localeCompare(b[sortParameter].toLowerCase())\n        })\n        setTodos(sorted)\n        break;\n      }\n      case \"za\":{\n        console.log(\"za\")\n        const sorted = [...todos].sort((a, b) => {\n          return a[sortParameter].toLowerCase().localeCompare(b[sortParameter].toLowerCase())\n        }).reverse()\n        setTodos(sorted)\n        break;\n      }\n      case \"completedFirst\":{\n        console.log(\"completed\")\n        const sorted = [...todos].sort((a, b) => {\n          return (a[sortParameter] === b[sortParameter]) ? 0 : a[sortParameter]? -1 : 1\n        })\n        setTodos(sorted)\n        break;\n      }\n      case \"incompleteFirst\":{\n        console.log(\"incomplete\")\n        const sorted = [...todos].sort((a, b) => {\n          return (a[sortParameter] === b[sortParameter]) ? 0 : a[sortParameter]? -1 : 1\n        }).reverse()\n        setTodos(sorted)\n        break;\n      }\n      default: {\n        console.log(\"default\")\n        const sorted = [...todos].sort((a, b) => {\n          return a[sortParameter].toLowerCase().localeCompare(b[sortParameter].toLowerCase())\n        }).reverse()\n        setTodos(sorted)\n        break;\n      }\n    }\n  }, [sortBy])\n\n  const change = (e) => {\n    setSortBy(e.target.value)\n  }\n\n\n  return (\n    <Fragment>\n      <nav id=\"header-nav\">\n        <div className=\"content-wrapper\" id=\"header-content-wrapper\">\n            <h1 id=\"header-title\" className=\"text title\">TODO List App</h1>\n            {/* TODO: style this */}\n            <select name=\"sort_by\" id=\"sort-input\" onChange={change}>\n              <option className=\"sort-choice\" value=\"newestFirst\">Newest First</option>\n              <option className=\"sort-choice\" value=\"oldestFirst\">Oldest First</option>\n              <option className=\"sort-choice\" value=\"az\">A-Z</option>\n              <option className=\"sort-choice\" value=\"za\">Z-A</option>\n              <option className=\"sort-choice\" value=\"completedFirst\">Completed First</option>\n              <option className=\"sort-choice\" value=\"incompleteFirst\">Incomplete First</option>\n            </select>\n        </div>\n      </nav>\n      <main id=\"main-section\">\n        <div className=\"content-wrapper\" id=\"main-content-wrapper\">\n              <div id=\"todo-list-wrapper\">\n                  <ul id=\"todo-list-ul\">\n                    {todos.map((todo, todoNumber)=> (\n                      <Todo key={todo.id} text={todo.text} completed={todo.completed} updateList={setTodos} todos={todos} todoIndex={todoNumber} id={todo.id} />\n                    ))}\n                    <NewTodo todos={todos} onSubmit={setTodos}/>\n                  </ul>\n              </div>\n          </div>\n      </main>\n    </Fragment> \n  )\n}\n"],"sourceRoot":""}